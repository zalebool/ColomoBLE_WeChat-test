/**************************************************************************************************
  Filename:       bsp_ruby_led.c
  Revised:        $Date: 2015/9/10 $
  Revision:       $Revision: 1 $

  Description:    This file contains the interface to the bsp ruby capacity measurement.

  Copyright 2015 - 2016 QijiTek. All rights reserved.
**************************************************************************************************/

/***************************************************************************************************
 *                                             INCLUDES
 ***************************************************************************************************/
#include "hal_mcu.h"
#include "hal_defs.h"
#include "hal_types.h"
#include "hal_drivers.h"
#include "osal.h"
#include "hal_board.h"
#include "hal_i2c.h"
#include "bsp_ruby_led.h"

/***************************************************************************************************
 *                                             CONSTANTS
 ***************************************************************************************************/

/***************************************************************************************************
 *                                              MACROS
 ***************************************************************************************************/

/***************************************************************************************************
 *                                              TYPEDEFS
 ***************************************************************************************************/


/***************************************************************************************************
 *                                           GLOBAL VARIABLES
 ***************************************************************************************************/

/***************************************************************************************************
 *                                            LOCAL FUNCTION
 ***************************************************************************************************/

/***************************************************************************************************
 *                                            FUNCTIONS - API
 ***************************************************************************************************/
/***************************************************************************************************
 * @fn      BspRubyLedOn
 *
 * @brief   Switch on LED
 *
 * @param   None
 *          
 *          
 *                    
 *
 * @return  None
 ***************************************************************************************************/
void BspRubyLedOn(uint8 PWM)
{
  P1DIR |= (1 << 0);
  P1SEL |= (1 << 0);
  P2SEL |= (1 << 4);
  T4CTL = 0x80;
  T4CCTL0 = 0x24;
  T4CC0 = PWM;
  T4CTL |= (1 << 4);
}

 /***************************************************************************************************
 * @fn      BspRubyLedOff
 *
 * @brief   Switch Off LED
 *
 * @param   None
 *          
 *          
 *                    
 *
 * @return  None
 ***************************************************************************************************/
void BspRubyLedOff()
{
  P1SEL &= ~(0x01);
  P1DIR &= ~(0x01);
  P1INP |= 0x01;
}

/***************************************************************************************************
***************************************************************************************************/