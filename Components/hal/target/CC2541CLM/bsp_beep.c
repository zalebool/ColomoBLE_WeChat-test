/**************************************************************************************************
  Filename:       bsp_beep.c
  Revised:        $Date: 2015/6/16 $
  Revision:       $Revision: 1 $

  Description:    This file contains the interface to the Bsp beep Service.


  Copyright 2015 - 2016 QijiTek. All rights reserved.
**************************************************************************************************/

/***************************************************************************************************
 *                                             INCLUDES
 ***************************************************************************************************/
#include "hal_mcu.h"
#include "hal_defs.h"
#include "hal_types.h"
#include "hal_drivers.h"
#include "bsp_beep.h"
#include "osal.h"
#include "hal_board.h"

/***************************************************************************************************
 *                                             CONSTANTS
 ***************************************************************************************************/

/***************************************************************************************************
 *                                              MACROS
 ***************************************************************************************************/

/***************************************************************************************************
 *                                              TYPEDEFS
 ***************************************************************************************************/

/***************************************************************************************************
 *                                           GLOBAL VARIABLES
 ***************************************************************************************************/

/***************************************************************************************************
 *                                            LOCAL FUNCTION
 ***************************************************************************************************/

/***************************************************************************************************
 *                                            FUNCTIONS - API
 ***************************************************************************************************/

/***************************************************************************************************
 * @fn      BspBeepInit
 *
 * @brief   Initialize Beep Service
 *
 * @param   None
 *
 * @return  None
 ***************************************************************************************************/
void BspBeepInit (void)
{
  BSP_BEEP_SBIT = 0;
}

/***************************************************************************************************
 * @fn      BspBeep
 *
 * @brief   make noise!!! (NOTE: this is blocking function)
 *
 * @param   None
 *
 * @return  None
 ***************************************************************************************************/
void BspBeep (void)
{
#if (defined AC_BEEP)
  int i;

  for (i=0; i<80; i++)
  {
    BSP_BEEP_SBIT = 1;
    Hal_Delay100uS(2);
    BSP_BEEP_SBIT = 0;
    Hal_Delay100uS(2);
  }
#else
  BSP_BEEP_SBIT = 1;
  Hal_Delay100uS(200);
  BSP_BEEP_SBIT = 0;
#endif
}

/***************************************************************************************************
***************************************************************************************************/
